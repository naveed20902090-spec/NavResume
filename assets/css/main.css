:root{
  /* Default: dark mode (prevents light flash before JS applies theme) */
  --bg:#000000;
  --fg:#f6f6f6;
  --muted:rgba(255,255,255,.44);
  --muted2:rgba(255,255,255,.26);
  --line:rgba(255,255,255,.14);
  --bar: rgba(255,255,255,.00);

  /* Premium layer (Museum Luxury) */
  --glow: rgba(255,255,255,.10);
  --glow2: rgba(255,255,255,.06);
  --strokeHi: rgba(255,255,255,.22);
  --strokeLo: rgba(255,255,255,.12);
  --grain: url('/grain.svg');

  --padX: 3.2vw;
  --padY: 2.2vh;
  --font: "IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  /* Slightly larger type to match reference scale */
  --fs: 15px;
  --ls: 0.08em;
}

html[data-theme="light"]{
  /* Light mode needed more contrast for readability */
  --bg:#ffffff;
  --fg:#0b0b0b;
  --muted:rgba(0,0,0,.70);
  --muted2:rgba(0,0,0,.56);
  --line:rgba(0,0,0,.26);
  --bar: rgba(0,0,0,.00);

  /* Premium layer (tuned for light backgrounds) */
  --glow: rgba(0,0,0,.10);
  --glow2: rgba(0,0,0,.06);
  --strokeHi: rgba(0,0,0,.28);
  --strokeLo: rgba(0,0,0,.16);
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  background:var(--bg);
  color:var(--fg);
  font-family:var(--font);
  text-rendering: geometricPrecision;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color .2s ease, color .2s ease;
}

/* Cinematic grain (subtle, premium depth). */
body::before{
  content:"";
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:0;
  background-image: var(--grain);
  background-repeat: repeat;
  opacity: .22;
  mix-blend-mode: overlay;
}

/* Keep app content above grain. */
.frame{ z-index: 1; }

/* Premium hover treatment: gentle glow + slightly higher stroke. */
.card:hover,
.panel:hover,
.plaque:hover,
.plaqueRow .plaque:hover{
  box-shadow:
    0 0 0 1px var(--strokeLo) inset,
    0 10px 40px var(--glow2),
    0 0 22px var(--glow);
}

/* Premium CTA hover: clean stroke and glow. */
a.link:hover,
button.link:hover,
.pill:hover,
.ctaBtn:hover{
  box-shadow:
    0 0 0 1px var(--strokeHi) inset,
    0 0 18px var(--glow);
}

/* Specular sweep (Museum Luxury) */
.ctaBtn,
.pill,
a.link.ctaBtn,
button.link{
  position: relative;
  overflow: hidden;
}
.ctaBtn::after,
.pill::after,
button.link::after{
  content:"";
  position:absolute;
  inset:-40% -20%;
  background: linear-gradient(110deg,
    transparent 0%,
    rgba(255,255,255,0.00) 35%,
    rgba(255,255,255,0.14) 50%,
    rgba(255,255,255,0.00) 65%,
    transparent 100%
  );
  transform: translateX(-120%) skewX(-12deg);
  opacity: 0;
  pointer-events:none;
}
html[data-theme="light"] .ctaBtn::after,
html[data-theme="light"] .pill::after,
html[data-theme="light"] button.link::after{
  background: linear-gradient(110deg,
    transparent 0%,
    rgba(0,0,0,0.00) 35%,
    rgba(0,0,0,0.12) 50%,
    rgba(0,0,0,0.00) 65%,
    transparent 100%
  );
}
.ctaBtn:hover::after,
.pill:hover::after,
button.link:hover::after{
  opacity: 1;
  animation: sweep 750ms ease forwards;
}
@keyframes sweep{
  from{ transform: translateX(-120%) skewX(-12deg); }
  to{ transform: translateX(120%) skewX(-12deg); }
}

/* Cursor spotlight (apply class luxSpot + set --mx/--my via JS) */
.luxSpot{
  position:relative;
}
.luxSpot::before{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  opacity: 0;
  transition: opacity .18s ease;
  background: radial-gradient(600px circle at var(--mx, 50%) var(--my, 50%), var(--glow2), transparent 55%);
}
.luxSpot:hover::before{ opacity: 1; }
@media (prefers-reduced-motion: reduce){
  .luxSpot::before{ transition:none; }
  .ctaBtn:hover::after,
  .pill:hover::after,
  button.link:hover::after{ animation:none; opacity:0; }
}

/* App canvas */
.frame{
  position:relative;
  min-height:100svh;
  padding: var(--padY) var(--padX);
  display:flex;
  flex-direction:column;
}

/* Type */
.k{
  font-size:var(--fs);
  letter-spacing:var(--ls);
  text-transform:uppercase;
  line-height:1.1;
  transition: color .16s ease, opacity .16s ease;
}
.k.dim{ color:var(--muted); }
.k.dim2{ color:var(--muted2); }

/* Make all text readable on hover (requested):
   - in dark mode => hover becomes white
   - in light mode => hover becomes black
*/
.k:hover{ color: var(--fg); opacity: 1; }
.k.dim:hover, .k.dim2:hover{ color: var(--fg); opacity: 1; }

a{ color:inherit; text-decoration:none; }
a:hover{ text-decoration:none; }

button{
  font-family:var(--font);
  font-size:var(--fs);
  letter-spacing:var(--ls);
  text-transform:uppercase;
  background:transparent;
  border:0;
  color:inherit;
  cursor:pointer;
  padding:0;
}

/* Global transition overlay */
.transitionLayer{
  position:fixed;
  inset:0;
  background: var(--bg);
  transform: scaleY(0);
  transform-origin: top;
  z-index: 9999;
  pointer-events:none;
  display:none;
}

/* Cursor */
.cursorDot{
  position:fixed;
  left:0; top:0;
  width: 10px;
  height: 10px;
  border-radius:999px;
  background: var(--fg);
  opacity: .22;
  transform: translate(-50%, -50%);
  pointer-events:none;
  z-index: 9998;
  mix-blend-mode: normal;
}

/* Theme-specific blending (keeps dot readable on pure black/white). */
html[data-theme="dark"] .cursorDot{ mix-blend-mode: difference; opacity: .28; }
html[data-theme="light"] .cursorDot{ mix-blend-mode: multiply; opacity: .16; }

@media (hover: none), (pointer: coarse){
  .cursorDot{ display:none; }
}

@media (prefers-reduced-motion: reduce){
  body{ transition:none; }
}

@media (max-width: 768px){
  :root{
    --padX: 18px;
    --padY: 14px;
    --fs: 12px;
  }
}
